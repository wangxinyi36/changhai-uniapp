(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/landing/land-form"],{129:function(e,r,n){"use strict";(function(e){n(5);t(n(4));var r=t(n(130));function t(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(r.default)}).call(this,n(1)["createPage"])},130:function(e,r,n){"use strict";n.r(r);var t=n(131),i=n(133);for(var u in i)"default"!==u&&function(e){n.d(r,e,(function(){return i[e]}))}(u);n(136);var o,s=n(11),a=Object(s["default"])(i["default"],t["render"],t["staticRenderFns"],!1,null,"67737612",null,!1,t["components"],o);a.options.__file="pages/home/landing/land-form.vue",r["default"]=a.exports},131:function(e,r,n){"use strict";n.r(r);var t=n(132);n.d(r,"render",(function(){return t["render"]})),n.d(r,"staticRenderFns",(function(){return t["staticRenderFns"]})),n.d(r,"recyclableRender",(function(){return t["recyclableRender"]})),n.d(r,"components",(function(){return t["components"]}))},132:function(e,r,n){"use strict";var t;n.r(r),n.d(r,"render",(function(){return i})),n.d(r,"staticRenderFns",(function(){return o})),n.d(r,"recyclableRender",(function(){return u})),n.d(r,"components",(function(){return t}));try{t={uniForms:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms/uni-forms")]).then(n.bind(null,455))},uniFormsItem:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-forms/components/uni-forms-item/uni-forms-item")]).then(n.bind(null,463))},uniDataCheckbox:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox")]).then(n.bind(null,470))},uniEasyinput:function(){return n.e("uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput").then(n.bind(null,479))},uniFilePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-file-picker/components/uni-file-picker/uni-file-picker")]).then(n.bind(null,486))},uniDatetimePicker:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uni-datetime-picker/components/uni-datetime-picker/uni-datetime-picker")]).then(n.bind(null,495))},uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,399))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var e=this,r=e.$createElement;e._self._c},u=!1,o=[];i._withStripped=!0},133:function(e,r,n){"use strict";n.r(r);var t=n(134),i=n.n(t);for(var u in t)"default"!==u&&function(e){n.d(r,e,(function(){return t[e]}))}(u);r["default"]=i.a},134:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=s(n(16)),i=n(15),u=n(22),o=n(135);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,r,n,t,i,u,o){try{var s=e[u](o),a=s.value}catch(c){return void n(c)}s.done?r(a):Promise.resolve(a).then(t,i)}function c(e){return function(){var r=this,n=arguments;return new Promise((function(t,i){var u=e.apply(r,n);function o(e){a(u,t,i,o,s,"next",e)}function s(e){a(u,t,i,o,s,"throw",e)}o(void 0)}))}}var d={data:function(){return{rules:{ifOwner:{rules:[{required:!0,errorMessage:"请选择"}]},name:{rules:[{required:!0,errorMessage:"请输入"}]},sex:{rules:[{required:!0,errorMessage:"请选择"}]},idcard:{rules:[{required:!0,errorMessage:"请输入"}]},mobile:{rules:[{required:!0,errorMessage:"请输入"}]},url:{rules:[{required:!0,errorMessage:"请上传"}]},reason:{rules:[{required:!0,errorMessage:"请输入"}]},uptime:{rules:[{required:!0,errorMessage:"请选择"}]},upport:{rules:[{required:!0,errorMessage:"请输入"}]},upAddress:{rules:[{required:!0,errorMessage:"请选择"}]},upAddressDetail:{rules:[{required:!0,errorMessage:"请输入"}]},downAddress:{rules:[{required:!0,errorMessage:"请选择"}]},downAddressDetail:{rules:[{required:!0,errorMessage:"请输入"}]},trace:{rules:[{required:!0,errorMessage:"请输入"}]},unit:{rules:[{required:!0,errorMessage:"请输入"}]},profession:{rules:[{required:!0,errorMessage:"请输入"}]},ifHealth:{rules:[{required:!0,errorMessage:"请选择"}]}},dataTree:[],landFormData:{ifOwner:"",name:"",sex:"",idcard:"",mobile:"",url:[],reason:"",uptime:"",upport:"",upAddress:"",upAddressDetail:"",downAddress:"",downAddressDetail:"",trace:"",unit:"",profession:"",ifHealth:""},owns:[{text:"本人",value:0},{text:"代填",value:1}],report:[{text:"有",value:0},{text:"无",value:1}],sexs:[{text:"男",value:0},{text:"女",value:1}],province:[],city:[],district:[],form_upAddress:[0,0,0],land_address:o.COMMON_ADDRESS,land_downAddress:[0]}},onLoad:function(){this.getProvince()},methods:{open:function(e){this.$refs[e].open("bottom")},cancel:function(e){this.$refs[e].close()},confirm:function(e){"popup"==e?this.landFormData.upAddress="".concat(this.province[this.form_upAddress[0]].text,"-").concat(this.city[this.form_upAddress[1]].text,"-").concat(this.district[this.form_upAddress[2]].text):"popup-one"==e&&(this.landFormData.downAddress=this.land_address[this.land_downAddress[0]].name),this.cancel(e)},select:function(e){var r=this;return c(t.default.mark((function n(){var i,o;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<e.tempFiles.length)){n.next=15;break}return n.prev=2,n.next=5,(0,u.upload)(r.$API.postStorageCreate,e.tempFiles[i].path);case 5:o=n.sent,r.landFormData.url.push({name:e.tempFiles[i].name,extname:e.tempFiles[i].extname,url:o}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](2),console.log("错误",n.t0);case 12:i++,n.next=1;break;case 15:case"end":return n.stop()}}),n,null,[[2,9]])})))()},deletePic:function(e){var r=this;return c(t.default.mark((function n(){var i,u;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:i=r.landFormData.url,u=r.landFormData.url.findIndex((function(r){return r==e.tempFile})),i.splice(u,1),r.landFormData.url=i,console.log(r.landFormData.url);case 5:case"end":return n.stop()}}),n)})))()},submit:function(e){var r=this;this.$refs[e].validate().then(function(){var e=c(t.default.mark((function e(n){var u,o;return t.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u=JSON.parse(JSON.stringify(r.landFormData)),u.url=u.url.map((function(e){return e.url})),u.url=u.url.join(","),e.next=5,r.$http(r.$API.postHealth,u,"POST");case 5:o=e.sent,0!=o.errno&&(0,i.showToast)(o.errmsg),console.log(o);case 8:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),(0,i.showToast)("表单内容皆为必填项！")}))},getProvince:function(){var e=this;return c(t.default.mark((function r(){var n;return t.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,i.getRegionList)();case 3:n=r.sent,e.province=n,e.city=n[0].children,e.district=n[0].children[0].children,r.next=11;break;case 9:r.prev=9,r.t0=r["catch"](0);case 11:case"end":return r.stop()}}),r,null,[[0,9]])})))()},bindChange:function(e){var r=e.detail.value[0],n=e.detail.value[1];this.city=this.province[r].children,this.district=this.province[r].children[n].children,this.form_upAddress=e.detail.value},bindChange2:function(e){this.land_downAddress=e.detail.value}}};r.default=d},136:function(e,r,n){"use strict";n.r(r);var t=n(137),i=n.n(t);for(var u in t)"default"!==u&&function(e){n.d(r,e,(function(){return t[e]}))}(u);r["default"]=i.a},137:function(e,r,n){}},[[129,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/home/landing/land-form.js.map